https://docs.rundeck.com/docs/administration/install/launcher.html

create variable 

RDECK_BASE
export RDECK_BASE=/home/rundeck
export PATH=$PATH:$RDECK_BASE/tools/bin
export MANPATH=$MANPATH:$RDECK_BASE/docs/man

##run from war java -Xmx3g -jar $RDECK_BASE/rundeck.war


##node creation from xml

project> <node name="testwinpc" connectionType="WINRM_NATIVE" node-executor="overthere-winrm" winrm-password-option="pass" winrm-protocol="http" winrm-auth-type="basic" username="admin" winrmPassword="password" description="Windows node" tags="" hostname="ip:5985" osArch="x86_64" osFamily="windows" osName="Windows 10" /> </project>

##rundeck save|encrypt password

https://thedataguy.in/encrypt-key-files-and-passwords-in-rundeck/


##crreating nodes

creat a project

cd to projectfolder undet etc  create resource.xml

<?xml version="1.0" encoding="UTF-8"?>
<project>
<node name="linux-remote"
  osFamily="unix"
  username="superuser"
  hostname="127.0.0.1"
  ssh-authentication="pass"
  sudo-command-enabled="true"
  sudo-password-storage-path="keys/windows"
  />
</project>

restart the service


##rundeck json and xml format

https://docs.rundeck.com/docs/api/index.html#running-adhoc-scripts

json
##working

{

  "json-project": {
    "tags": "remote-server",
    "osFamily": "unix",
    "username": "user",
    "osVersion": "16",
    "osArch": "x86_64",
    "description": "Rundeck remote server node",
    "hostname": "127.0.0.1",
    "nodename": "json-project",
    "osName": "Ubuntu 16",
    "ssh-authetication":"password",
    "sudo-command-enabled": "yes",
    "sudo-password-storage-path":"keys/win"
 
  }
}
  
  
{
  "madmartigan.local": {
    "tags": "local,server",
    "osFamily": "unix",
    "username": "greg",
    "osVersion": "10.10.3",
    "osArch": "x86_64",
    "description": "Rundeck server node",
    "hostname": "madmartigan.local",
    "nodename": "madmartigan.local",
    "osName": "Mac OS X"
  },
  "test": {
    "tags": "alphabet, soup",
    "osFamily": "unix",
    "ssh-key-storage-path": "keys/testkey1.pem",
    "username": "vagrant",
    "osVersion": "10.10.3",
    "osArch": "x86_64",
    "description": "Rundeck server node",
    "hostname": "192.168.33.12",
    "nodename": "test",
    "osName": "Mac OS X"
  }
}







{
    "project":"[project]",
    "url":"[scriptURL]",
    "nodeThreadcount": #threadcount#,
    "nodeKeepgoing": true/false,
    "asUser": "[asUser]",
    "argString": "[argString]",
    "scriptInterpreter": "[scriptInterpreter]",
    "interpreterArgsQuoted": true/false,
    "fileExtension": "[fileExtension]",
    "filter": "[node filter string]"
}


##yaml format

- yaml.remote:
  description: The production remote yaml server.
  hostname: 127.0.0.1
  nodename: yaml.remote
  tags: 'yaml remote'
  username: user
  osName: "Ubuntu 16"
  osFamily: "unix"
  ssh-authetication: "pass"
  sudo-command-enabled: yes
  sudo-password-storage-path: keys/windows

- Homestar.local:
  description: The production redis server.
  hostname: Homestar.local
  nodename: Homestar.local
  tags: 'redis_server,production'
  username: greg
- bartholemew:
  description: Webapp node
  hostname: bartholemew
  nodename: bartholemew
  tags: 'web,app'
  username: greg
  app-port: 8080
  https-port: 8443

https://docs.rundeck.com/docs/man5/resource-yaml.html
##adding windows node

https://github.com/rundeck-plugins/py-winrm-plugin

name: Specify the node name of the remote server
hostname: Remote host node, can be the ip address and include port number the default port are 5985/5986 (http/https).
username: Remote username to get access to the remote host
winrm-cmd: Execute commands using Cmd or PowerShell
winrm-password-storage-path: Specifies a Key Storage Path to look up the authentication password from keys/windwod@##reat pass-under keystorge
winrm-protocol: Determine the protocol to use, can be http or https
winrm-auth-type: Type of authentication to use, can be basic or kerberos or ntlm
winrm-domain: Kerberos domain
