apt-get remove package

apt-get purge packge

dpkg --purge --force-all package

##any eero in /var/lib/dpkg/info/pacahe.postrm ## comment the line and 

dpkg --purge --force-all package


###upgrade


##dist-upgrade install latest packages bt removing dependencies if necesary@@sometime even upgrade the os version

upgrade install latest package without removing dependencies to later version


##before upgarde chekc lts version

cat /etc/apt/source.list  ##schneg os version is required


apt-get update
apt-get upgrade


#upgrade

apt-get install update-manager
do-release-upgare

update-manager -c# check

upadte-manager ## run update manager for new release

update-manager -p ## check proposed version of new release

##Working of do release upgrade
do-release-upgarde -d|p|c ##check new releae

##creates a filder under ~/.cache/update-manager/meta-releases
#creates a folder under /tmp/ubunut|upgrade #check with time and date
##download  python and upgrade tool tar in /tmp/ubuntu-release* file

##ls -l /tmp/ubuntu-release* 
##do-release-upgrade oiption


#######################################################################################################
sudo which do-release-upgrade
sudo cat $(which do-release-upgrade) ##cehck for proposed or dist option also frontend arguments

switch to root user
download relasefile.tar.gz
extract xenial.tar.gz
run ./dist-upgrade.py 

##generally available in /tmp/ubuntu-release-* # after running do-release-upgrade -p|c|d
##########################################################################################
apt-getinstall debconf-doc## for noninteractive mode

do-release-upgrade -f debiabupgradeviewnonintractive

export DEBIAN_FRONTENd=NonIntercative
##help pages
man 7 debconf
man apt-get
man do-release-upgrade


##ansible for upgrade 
sudo DEBIAN_FRONTEND=noninteractive apt-get -yq install [packagename]
apt-get -o DPkg::Options::=--force-confdef upgrade -q -y -u --force-yes
apt-get -o Dpkg::Options::="--force-confdef" -o Dpkg::Options::="--force-confold" dist-upgrade

 tasks:
   - name: update
     apt: update_cache=yes cache_valid_time=600

   - name: upgrade
     apt: upgrade=full

   - name: do-release
     command: do-release-upgrade -f DistUpgradeViewNonInteractive
     environment:
     DEBIAN_FRONTEND: noninteractive

https://ubuntu.com/blog/testing-unsupported-release-upgrades


##apt-key

    apt-add-repository 'deb http://myserver/path/to/repo stable myrepo'
    apt-add-repository ppa:user/repository
    apt-add-repository -r ppa:user/repository# remove key

    apt-add-repository -r 'deb http://myserver/path/to/repo stable myrepo'# reove key


###apt-ket list | grep -i 'expire'##  get  expired ppa

apt-key adv -keyserver key.gnupnet.cet --recv-keys expiredkey(expkey)
 apt-key adv -keyserver key.gnupnet.cet --refresh-keys## update all keys
 
 
 
 ## execution time
 
 ps -o cmd,time,etime -p pid
 
 ps -eo cmd,time,etime,path | grep process ## get start and elapsed time
 
 ####get processid along command
 myCommand & echo $!
 sudo apt-get update & echo $!
